<div class="card">
  <div class="card-content">
    <header>
      <h1 class="m-0"><span class="accent-text">Sod's</span> Law Calculator</h1>
      <p class="calc-description">The (P)robability of a task going wrong by weighing it's combined (U)rgency, (C)omplexity, and (I)mportance, against the performer's (S)kill level,  multiplied by the (A)ctivity constant, amplifyed by the (F)requency of doing the task.</p>
      <p class="formula" id="formula-display"></p>
    </header>
    <div class="calc-input-grid">
      <div class="calc-slider-group">
        <label for="urgency">U (Urgency of the task): <span class="calc-slider-value" id="urgency-value">5</span></label>
        <input type="range" id="urgency" min="1" max="9" value="5" />
      </div>
      <div class="calc-slider-group">
        <label for="complexity">C (Complexity of the task): <span class="calc-slider-value" id="complexity-value">5</span></label>
        <input type="range" id="complexity" min="1" max="9" value="5" />
      </div>
      <div class="calc-slider-group">
        <label for="importance">I (Importance of the task): <span class="calc-slider-value" id="importance-value">5</span></label>
        <input type="range" id="importance" min="1" max="9" value="5" />
      </div>
      <div class="calc-slider-group">
        <label for="skill">S (Your skill in performing the task): <span class="calc-slider-value" id="skill-value">5</span></label>
        <input type="range" id="skill" min="1" max="9" value="5" />
      </div>
      <div class="calc-slider-group">
        <label for="frequency">F (Frequency of the task): <span class="calc-slider-value" id="frequency-value">5</span></label>
        <input type="range" id="frequency" min="1" max="9" value="5" />
      </div>
      <div class="calc-slider-group">
        <p class="label-without-input">A (Aggravation factor, a constant set by researchers): <span class="calc-slider-value" id="a-value">0.7</span></p>
      </div>
    </div>
    <h2>P (Probability of things going wrong):</h2>
    <div id="result-display" class="calc-result-display calc-ok">
      <span id="score-value" class="calc-score">0.00</span>
      <p id="score-interpretation" class="calc-interpretation">Enter your values and see your fate.</p>
    </div>

    <section class="section section-card mt-8 mb-8">
      <div class="section-header">
        <button id="share-cta" class="btn">
          <span class="btn-text">Share Calculation</span>
          <span class="material-symbols-outlined icon">share</span>
        </button>
      </div>
      <div class="section-body">
        <div id="share-form-container" class="share-form-container hidden">
          <h2 class="mt-0">Share Your Calculation</h2>
          <div class="form-group">
            <label for="task-description">Task Description <span class="required">*</span></label>
            <textarea id="task-description" rows="3" placeholder="Describe the task you calculated..." required></textarea>
          </div>
          <div class="form-group">
            <label for="recipient-email">Send to Email <span class="required">*</span></label>
            <input type="email" id="recipient-email" placeholder="your.email@example.com" required />
          </div>
          <div class="form-actions">
            <button id="preview-email" class="btn">
              <span class="btn-text">Preview Email</span>
              <span class="material-symbols-outlined icon">preview</span>
            </button>
            <button id="send-email" class="btn">
              <span class="btn-text">Send Email</span>
              <span class="material-symbols-outlined icon">email</span>
            </button>
            <button id="cancel-share" class="btn">
              <span class="btn-text">Cancel</span>
              <span class="material-symbols-outlined icon">close</span>
            </button>
          </div>
          <div id="share-status" class="share-status hidden"></div>
        </div>
        <div id="email-preview-modal" class="modal hidden">
          <div class="modal-content">
            <div class="modal-header">
              <h3>Email Preview</h3>
              <button id="close-preview" class="close-button">
                <span class="material-symbols-outlined icon">close</span>
              </button>
            </div>
            <div class="modal-body" id="preview-content"></div>
            <div class="modal-footer">
              <button id="close-preview-footer" class="btn">
                <span class="btn-text">Close</span>
                <span class="material-symbols-outlined icon">close</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="calc-info">
      <p>probabilities are on a scale of 0.12 to 8.6.</p>
      <p>The higher the probability (P), the greater the chance that Sod's law will strike.</p>
      <p>How the formula explains Sod's Law?</p>
      <p>The components of the equation reflect the intuitive reasoning behind Sod's law:</p>
      <p>The probability (P) of a mishap increases with the urgency (U), complexity (C), and importance (I) of the task.</p>
      <p>The likelihood of a mishap decreases with your skill level (S).</p>
      <p>An aggravating circumstance is a constant, negative influence (A).</p>
      <p>The equation has a frequency term (1/(1-sin (F/10))) that implies that repeated actions (F) could lead to a sudden, unexpected failure.</p>
      <p>How to reduce the probability (P) of things going wrong:</p>
      <p>Improve your skill (S).</p>
      <p> Reduce the urgency (U), complexity (C) and/or importance (I).</p>
      <p>Lower the frequency (F) of the task.</p>
    </div>
  </div>
</div>
