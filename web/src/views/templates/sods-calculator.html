<div class="card">
  <header class="card-header">
    <h1 class="card-title"><span class="accent-text">Sod's</span> Law Calculator</h1>
    <p class="calc-description">Estimate how likely your task is to go wrong based on urgency, complexity, importance, your skill, and how often you do it.</p>
    <p class="formula" id="formula-display"></p>
  </header>
  <div class="card-body">
    <div class="calc-input-grid">
      <div class="calc-slider-group">
        <label for="urgency">Urgency: <span class="calc-slider-value" id="urgency-value">5</span></label>
        <input type="range" id="urgency" min="1" max="9" value="5">
      </div>
      <div class="calc-slider-group">
        <label for="complexity">Complexity: <span class="calc-slider-value" id="complexity-value">5</span></label>
        <input type="range" id="complexity" min="1" max="9" value="5">
      </div>
      <div class="calc-slider-group">
        <label for="importance">Importance: <span class="calc-slider-value" id="importance-value">5</span></label>
        <input type="range" id="importance" min="1" max="9" value="5">
      </div>
      <div class="calc-slider-group">
        <label for="skill">Your Skill: <span class="calc-slider-value" id="skill-value">5</span></label>
        <input type="range" id="skill" min="1" max="9" value="5">
      </div>
      <div class="calc-slider-group">
        <label for="frequency">Frequency: <span class="calc-slider-value" id="frequency-value">5</span></label>
        <input type="range" id="frequency" min="1" max="9" value="5">
      </div>
      <div class="calc-slider-group">
        <p class="label-without-input">Aggravation Factor: <span class="calc-slider-value" id="a-value">0.7</span></p>
      </div>
    </div>
    <h2>Probability of Things Going Wrong:</h2>
    <div id="result-display" class="calc-result-display calc-ok">
      <span id="score-value" class="calc-score">0.00</span>
      <p id="score-interpretation" class="calc-interpretation">Slide the controls to reveal the likelihood of chaos.</p>
    </div>

    <section class="section section-card mt-8 mb-8">
      <div class="section-header">
        <h3 class="section-title"><span class="accent-text">Share</span> Your Results</h3>
      </div>
      <div class="section-body">
        <div class="share-wrapper calculator-share">
          <button type="button" class="share-trigger" aria-expanded="false" aria-haspopup="true" aria-label="Share your calculation">
            <span class="icon" data-icon="share" aria-hidden="true"></span>
            Share
          </button>
          <div class="share-popover" role="menu">
            <a class="share-popover-item" href="#" role="menuitem" target="_blank" rel="noopener noreferrer" data-share="twitter">
              <span class="icon-circle twitter"><span class="icon" data-icon="twitter" aria-hidden="true"></span></span>Share on X
            </a>
            <a class="share-popover-item" href="#" role="menuitem" target="_blank" rel="noopener noreferrer" data-share="facebook">
              <span class="icon-circle facebook"><span class="icon" data-icon="facebook" aria-hidden="true"></span></span>Share on Facebook
            </a>
            <a class="share-popover-item" href="#" role="menuitem" target="_blank" rel="noopener noreferrer" data-share="linkedin">
              <span class="icon-circle linkedin"><span class="icon" data-icon="linkedin" aria-hidden="true"></span></span>Share on LinkedIn
            </a>
            <a class="share-popover-item" href="#" role="menuitem" target="_blank" rel="noopener noreferrer" data-share="reddit">
              <span class="icon-circle reddit"><span class="icon" data-icon="reddit" aria-hidden="true"></span></span>Share on Reddit
            </a>
            <a class="share-popover-item" href="#" role="menuitem" target="_blank" rel="noopener noreferrer" data-share="whatsapp">
              <span class="icon-circle whatsapp"><span class="icon" data-icon="whatsapp" aria-hidden="true"></span></span>Share on WhatsApp
            </a>
            <a class="share-popover-item" href="#" role="menuitem" target="_self" data-share="email">
              <span class="icon-circle email"><span class="icon" data-icon="email" aria-hidden="true"></span></span>Share via Email
            </a>
            <div class="share-popover-divider"></div>
            <button type="button" class="share-popover-item" role="menuitem" data-action="copy-text">
              <span class="icon-circle copy"><span class="icon" data-icon="copy" aria-hidden="true"></span></span>
              Copy text
            </button>
            <button type="button" class="share-popover-item" role="menuitem" data-action="copy-link">
              <span class="icon-circle link"><span class="icon" data-icon="link" aria-hidden="true"></span></span>
              Copy link
            </button>
            <div class="share-copy-feedback">
              <span class="icon" data-icon="checkCircle" aria-hidden="true"></span>
              Copied!
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="calc-info calc-methodology">
      <h2 class="calc-info-title"><span class="accent-text">The Science</span> Behind Sod's Law</h2>
      <p>Sod's Law (known as Murphy's Law in America) isn't just a pessimistic joke - it reflects real patterns in probability, psychology, and system design. This calculator uses a mathematical model to quantify the likelihood of failure based on factors that genuinely influence task outcomes.</p>

      <h3 class="calc-info-subtitle"><span class="accent-text">The</span> Formula Explained</h3>
      <p>Our calculation multiplies positive failure factors (Urgency, Complexity, Importance) and divides by mitigating factors (Skill). The Frequency factor uses a sinusoidal function to model how repeated attempts increase the probability of eventual failure - a concept known in engineering as "failure rate over time."</p>
      <p>The Aggravation Factor (A) represents the real-world observation that failures tend to cluster during critical moments - a phenomenon psychologists call the "spotlight effect" combined with genuine performance degradation under pressure.</p>

      <h3 class="calc-info-subtitle"><span class="accent-text">Why</span> Does Murphy's Law Feel So Real?</h3>
      <p>Research in cognitive psychology shows that humans exhibit strong negativity bias - we remember failures more vividly than successes. Additionally, the "law of truly large numbers" guarantees that given enough attempts, unlikely events become virtually certain. Our calculator helps you visualize this mathematical certainty before committing to high-risk endeavors.</p>
    </section>

    <section class="calc-info calc-faq">
      <h2 class="calc-info-title"><span class="accent-text">Understanding</span> Your Score</h2>
      <ul class="calc-info-list">
        <li><strong>Scale:</strong> Probabilities range from 0.12 (barely cursed) to 8.6 (catastrophic).</li>
        <li><strong>Pressure builds:</strong> Higher Urgency, Complexity, and Importance push the score skyward.</li>
        <li><strong>Skill saves:</strong> Invest in Skill to tame the chaos.</li>
        <li><strong>Beware repetition:</strong> Frequent tasks (Frequency) tempt fate thanks to the sinuous 1/(1 - sin(F/10)) term.</li>
      </ul>
      <h3 class="calc-info-subtitle"><span class="accent-text">How</span> to cheat Murphy</h3>
      <ul class="calc-info-list">
        <li>Cut Urgency by asking: does everything really need to ship today?</li>
        <li>Break huge projects into bite size work to cut Complexity.</li>
        <li>Importance is a matter of perspective - is this task truly critical?</li>
        <li>Build your Skill to reduce errors.</li>
        <li>Batch low stakes tasks to shrink Frequency.</li>
      </ul>
      <p class="calc-info-summary">Use the calculator to model best and worst case scenarios before reality makes the decision for you.</p>
    </section>
  </div>
</div>
